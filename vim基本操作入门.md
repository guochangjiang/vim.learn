###内容概要

1. 文件操作
2. 模式转换
3. 光标移动
4. 编辑操作

###1. 文件操作

打开文件 —— vim filename  
打开多个文件 —— vim filelist  
以只读方式打开文件 —— view filename  
恢复因意外而未能及时保存的文件 —— vim  -r filename  
保存文件— —— :w  
强制写文件 —— :w!  
把编辑处理后的结果写到指定文件 —— :w filename  
把编辑处理后的结果强制写到指定文件 —— :w! filename  
退出文件 —— :q  
强制退出文件 —— :q!  
保存并退出 —— :wq   ##可用ZZ代替  
强制保存后退出 —— :wq!  
把编辑处理后的结果强制写到指定文件，并退出 —— :wq! filename  
把内存缓冲区的数据写到启动vim时指定的文件中并退出 —— ZZ  
放弃所有修改并重新载入该文件的原始内容 —— :e!

###2. 模式转换

在当前光标之前插入 —— i  
在当前光标之后插入 —— a  
在当前行的行首插入 —— I  
在当前行的行尾插入 —— A  
在当前行前插入新行 —— O  
在当前行后插入新行 —— o  
+ 注：以上6种操作都会使vim由一般模式进入插入模式。

返回正常模式或命令模式 —— Esc

###3. 光标移动

左下上右移动鼠标 —— hjkl  
移至行首 —— 0  
移至行尾 —— $  
移至当前行的起始非空白字符 —— ^  
移至上一行的起始非空白字符 —— -  
移至下一行的起始非空白字符 —— 回车/+  
左移一个字符 —— 退格键  
右移一个字符 —— 空格键  

移至当前单词或下个单词的词尾，不跳过标点 —— e  
移至当前单词或下个单词的词尾，跳过标点 —— E  
移至上个单词的词尾，不跳过标点 —— ge  
移至上个单词的词尾，跳过标点 —— gE  
移至下个单词的词首，不跳过标点 —— w  
移至下个单词的词首，跳过标点 —— W  
移至上个单词的词首，不跳过标点 —— b  
移至上个单词的词首，跳过标点 —— B  

移至上个句子的句首位置 —— (  
移至下个句子的句首位置 —— )  
移至上一段的段首位置 —— {  
移至下一段的段首位置 —— }  

向上翻页 —— C-u/U  #每页的行数可自定义  
向下翻页 —— C-d/D  
移至文件开头（首行首） —— gg/H  
移至文件尾（末行首） —— G/L  
移至指定行的行首 —— nG  ##n为行号  
移至总文件的第百分之几行 —— n%  ##如中间行为50%  

向下滚动一屏，光标移至下一页的左上角 —— C-f/F  
向上滚动一屏，光标移至前一页的左下角 —— C-b/B  
编辑窗口的文件内容整体上移一行 —— C-e/E  
编辑窗口的文件内容整体下移一行 —— C-y/Y  
把当前位置置于屏幕中央 —— zz  
把当前位置置于屏幕顶端 —— zt  
把当前位置置于屏幕底端 —— zb  
移至编辑窗口顶部首行的起始字符处 —— H  
移至编辑窗口中间行的起始字符处 —— M  
移至编辑窗口底端末行的起始字符处 —— L  

###3. 编辑操作

####3.1 替换与转换
替换当前位置单个字符，自动返回命令模式 —— r     
替换当前位置后的多个字符，不自动返回，可练习打字 —— R   
在当前位置处断行(删除一个字符) —— rEnter  
转换当前位置字母的大小写，然后光标后移 —— ~   #可使用n~  

####3.2 删除与剪切
删除当前字符 —— x  ##nx
删除当前位置的前一字符 —— X  ## nX  
删除当前单词光标及其后的内容 —— dw  ##ndw  
删除当前单词光标及其后的内容并进入插入模式 —— cw  ##ncw  
删除一行中光标位置之后的所有内容 —— d$  
删除一行文本 —— dd  ##ndd删除n行，与p/P粘贴命令一起可以移动数行内容  
删除一行中光标位置之后的内容 —— D/C  ##与d$类似，nD删除行尾部分及以后的n-1正行文本  
删除从当前行开始直至文件末行的所有文本行 —— dG  
删除从文件的n行开始直至当前行的所有文本行 —— dnG 
删除当前字符，并进入插入模式 —— s  ##ns 替换当前字符及其后n-1个字符  
删除当前行并进入插入模式(替换当前行) —— S/cc  ##nS 替换包括当前行在内的n行  

剪切操作同删除

####3.3 复制、剪切与粘贴
复制当前字符 —— y  ##ny  
复制整行文本 —— yy/Y  ##nyy  
复制当前单词 —— yw  ##nyw  
复制光标到行首的文本 —— y0  
复制光标位置到行尾的文本 —— y$  

将内容粘贴到光标后 —— p  ##np  
将内容粘贴到光标前 —— P  ##nP  

####3.4 检索与替换
自上而下搜索文本 —— /string   
自下而上搜索文本 —— ?string
下一个匹配 —— n  
上一个匹配 —— N  
从光标开始处重复执行先前的检索 —— /Enter  ##同n  
从光标开始处重复执行先前的检索 —— ?Enter ## 同N  
将光标移至匹配字符串所在行后的第n行 —— :/string/+n  
将光标移至匹配字符串所在行前的第n行 —— :/string?-n  
仅匹配出现在行首位置的字符串 —— :/^string  
仅匹配出现在行尾位置的字符串 —— :/string$  
匹配完整的单词 —— :/\<word\>  ## < 表示前边界，> 表示后边界  

替换字符串 —— :g/str1/s//str2/gc  ##其中第一个g表示全文检索，s表示替换，第二个g表示匹配所有字符串，c表示在替换之前需要确认，把str1替换为str2。其间可用C-c中止处理。

> 通配符有：.  [a-z]  *  
>在检索过程中某些特殊字符，如/&!.^*$\[]~?等具有特定意义，可用反斜线转义  



#### 3.5 撤销与恢复
撤销先前执行的编辑命令 —— u/:u  ## nu 撤销n步  
撤销或恢复编辑操作 —— U  ## 恢复与撤销循环(撤销u，撤销撤销u^_^)
重做 —— C-r  

 

####3.  其他操作命令
操作或命令前加数字表示重复该命令多少次  
显示当前文本行的行号位置等信息 —— C-G/g or :f 
再次执行最后一条命令 —— .  ## 最后一条命令为最近一次非命令模式期间的操作  
将下一行移至当前行行尾，隔以空格 —— J  ## 合并两行文本
将num1行到num2行的内容复制到num3行以后 —— :line.num1,line.num2 co line.num3  ## 其中点号`.`表示当前行，`$`表示最后一行  
将num1行到num2行的内容移动到num3行以后 —— :line.num1,line.num2 m  line.num3  ## 其中点号`.`表示当前行，`$`表示最后一行  
将num1行到num2行的内容删除 —— :line.num1,line.num2 d  
编辑多个文件时，转至下一个文件 —— :n  
编辑多个文件时，转到指定文件 —— :n file / :e file  
编辑多个文件时，强制转到知道那个文件，不提示保存 —— :e! file  


> 以冒号开始的命令实际上是ex命令，提高面向命令行的用户界面  

### 4. vim设置

####4.1 基本设置
开启行号显示 —— :set nu/:set number  
关闭行号显示 —— :set nonu/:set nonumber  
改变检索默认匹配模式，忽略大小写 —— :set ic  
将检索匹配模式改为默认的严格模式 —— :set noic  
在窗口右下角显示当前光标的位置 —— :set ruler   ## 关闭命令 —— :set noruler  
 

